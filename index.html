<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Microsoft YaHei" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-TW, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: Microsoft YaHei;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="315"/>

<div>
<span><div style="text-align: center"><span style="font-size: 32px;"><span style="font-family: Calibri;"><b>User Guide of AKM Arduino EVB</b></span></span></div><div><span style="font-size: 32px;"><font color="#010101" face="Calibri">Introduction</font></span></div><div align="left" style="min-height: 14pt;"><div><span style="font-size: 24px;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">Overview</span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">General description:</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">AKM Arduino EVB is designed for working with Arduino Uno for customers to evaluate AKM sensor products. The EVB is a combination of a sensor shield and sensor boards. There are sensor boards designed for this EVB. Just connect them to the sensor shield, adjust the jumper wires according to the pin definition of each sensor board, and connect the EVB to Arduino Uno board. The sensor control firmware is running on Arduino Uno. The firmware of AK9750/AK9752/AK9970 is provided. Customers can build and download the firmware with Arduino IDE 1.6.9.</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">Supported AKM ICs:</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">AK9750, AK9752, AK9753, AK9970/AK8963, AK09912, AK09915, AK737x, Routing Board</span></span> <span style="font-family: Calibri;"><span style="font-size: 12pt;"><span style="color: rgb(1, 1, 1);">(connecting AKM e-compass 15 pin daughter boards)</span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><span style="font-size: 24px;">What are in the package</span></span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">1.    Sensor Shield</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">2.    Sensor Board – any one or more of </span></span></span><span style="font-size: 16px;"><span style="font-family: Calibri;">AK9750, AK9752, AK9753, AK9970/AK8963, AK09912, AK09915, AK737x, Routing Board</span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">3.    Jumpers – Jump wires for adjusting the connection between the pin selection sockets when a sensor board is connected</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><span style="font-size: 24px;">Minimum requirement</span></span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">1.    A Windows 7 (or upper) PC to install Arduino IDE.</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">2.    Arduino IDE 1.6.9 or later</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">3.    Arduino UNO</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">4.    Sensor shield</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">5.    Sensor boards</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">6.    An USB type A to Mini-B USB cable to connect your PC to Arduino UNO for downloading the firmware or debugging</span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><br/></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><span style="font-size: 32px;">AKM Arduino EVB Components</span></span></span></span></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><span style="font-size: 24px;">Sensor Shield</span></span></span></span></div><div><img src="index_files/Image.png" type="image/png" style="height:auto;" width="385"/></div><div align="left" style="min-height: 241pt;"><div><br/></div><div><span style="font-size: 12pt;"><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);"><span style="font-size: 24px;">Sensor Board</span></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [1].png" type="image/png" style="height:auto;" width="729"/><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Available Sensor Boards: AK9750, AK9752, AK9753, AK9970/AK8963, AK09912, AK09915, AK737x, Routing Board</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-family: Calibri;"><span style="font-size: 32px;">Sensor Shield Configuration</span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Sensor Shield Block Diagram</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/439-4.png" type="image/png" style="height:auto;" width="551"/><br/></span></span></div><div><br/></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Port1 and Port2</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [2].png" type="image/png" style="height:auto;" width="424"/><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">There are two ports on the sensor shield. Each port is with two sockets for connecting the sensor boards. For independent usage of port1 and port2, there are:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2 sets of level shifter</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2 sets of INT pins</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2 sets of Reset pins</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2 sets of VDD voltage</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Somehow SDA and SCL are shared between port1 and port2</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div></div><div align="left" style="min-height: 241pt;"><div><span style="font-family: Calibri;"><span style="font-size: 24px;">Pin Selection Sockets</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [3].png" type="image/png" style="height:auto;" width="335"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Please use jump wires for connecting the pin selection sockets. Each sensor board has its definition for connecting the pin selection sockets.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">2 sockets for sensor boards in each port</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [4].png" type="image/png" style="height:auto;" width="340"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">There are two sockets for connecting the sensor board. </span></span><span style="font-size: 16px;"><span style="font-family: Calibri;">The two sockets are parallel connected.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK737x, AK9750 sometimes need to be tested either horizontally or vertically</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">VDD Jumper Setting</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [5].png" type="image/png" style="height:auto;" width="342"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-family: Calibri;"><span style="font-size: 16px;">For Port1 and Port2, there is a set of jumpers for setting VDD independently. 4 level of voltages can be set: 5V, 3.3V, 2.8V, 1.8V</span></span></div><div><span style="font-family: Calibri;"><span style="font-size: 16px;">For example, AK09912, 3.3v…, AK737x 2.8v</span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Interrupt Pins and Reset Pins</span></span></div></div><div align="left" style="min-height: 76pt;"><div align="left" style="min-height: 453pt;"><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [6].png" type="image/png" style="height:auto;" width="341"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2 sets of interrupt pin and reset pin</span></span></div><table cellpadding="1" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #010101;width:613px;" width="612"><tbody><tr><td align="left" style="border: solid #010101 1px;width:17.61827079934747%;" valign="top" width="101"><div><br/></div></td><td align="left" style="border: solid #010101 1px;width:40.1305057096248%;" valign="top" width="242"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">Interrupt</span></font></div></td><td align="left" style="border: solid #010101 1px;width:42.25122349102774%;" valign="top" width="260"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">Reset</span></font></div></td></tr><tr><td align="left" style="border: solid #010101 1px;" valign="top" width="101"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">Port 1</span></font></div></td><td align="left" style="border: solid #010101 1px;" valign="top" width="242"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">INT0 (Digital pin 2)*</span></font></div></td><td align="left" style="border: solid #010101 1px;" valign="top" width="260"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">RST0 (Digital pin 4)</span></font></div></td></tr><tr><td align="left" style="border: solid #010101 1px;" valign="top" width="101"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">Port 2</span></font></div></td><td align="left" style="border: solid #010101 1px;" valign="top" width="242"><div align="left" style="min-height: 14pt;"><font face="Calibri"><span style="font-size:12pt">INT1 (Digital pin 3)*</span></font></div></td><td align="left" style="border: solid #010101 1px;" valign="top" width="260"><div align="left" style="min-height: 14pt;"><div><font face="Calibri"><span style="font-size:12pt">RST1 (Digital pin 5)</span></font></div></div></td></tr></tbody></table><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Note: Remember to use digitalPinToInterrupt() to translate digital pin to interrupt pin in attachInterrupt()</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">I2C Bus Pins</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [7].png" type="image/png" style="height:auto;" width="338"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Port1 and port2 are sharing the same I2C bus. Please make sure that there is no conflict in the I2C slave address for all the sensor boards connected.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 32px;"><span style="font-family: Calibri;">Sensor Boards</span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">AK9750/3</span></span></div><div><span style="font-family: Calibri;"><span style="font-size: 16px;">1.    Jumper setting in pin selection socket:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [8].png" type="image/png" style="height:auto;" width="197"/></span></span></div><div><span style="font-family: Calibri;"><span style="font-size: 16px;">2.    AK9750/3 INT pin is open drain output. A pull-up resistor is installed. The interrupt is low active.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    Available slave address:</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">0x64~0x66. It can be set by installing the resistor on R111, R113, R119, and R120.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">i.    0x64: R113 and R120 are installed (default).</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">ii.    0x65: R111 and R120 are installed</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iii.    0x66: R113 and R119 are installed</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iv.    If you wish to use I2C interface, installing R111 and R119 at the same time is not allowed because AK9750 will be set as switch mode.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">v.    Please check the schematic of the sensor board.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">AK9752</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Jumper setting in pin selection socket:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [9].png" type="image/png" style="height:auto;" width="198"/></span></span></div></div><div align="left" style="min-height: 174pt;"><div align="left" style="min-height: 14pt;"><div align="left" style="min-height: 14pt;"><div align="left" style="min-height: 224pt;"><div align="left" style="min-height: 241pt;"><div align="left" style="min-height: 241pt;"><div align="left" style="min-height: 105pt;"><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    AK9752 INT pin is open drain output. A pull-up resistor is installed. The interrupt is low active.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;">AK9970/AK8963N</span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Jumper setting in pin selection socket:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [10].png" type="image/png" style="height:auto;" width="207"/><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    AK9970 is using the INT pin in firmware (default setting).</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    IC is mounted on the back side.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">4.    Available slave address:</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">i.    For AK8963N, it is 0x0C~0x0F. It can be set by installing the resistor on R17, R18, R23, and R24.</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">a.    0x0C: R23 and R24 are installed (default).</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">b.    0x0D: R18 and R23 are installed.</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">c.    0x0E: R17 and R24 are installed.</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">d.    0x0F: R17 and R18 are installed.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">ii.    For AK9970, it is 0x0C or 0x0D. It can be set by installing the resistor on R18 and R24.</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">a.    0x0C: R24 is installed (default).</span></span></div><div style="margin-left:80px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">b.    0x0D: R18 is installed.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iii.    Please check the schematic of the sensor board.</span></span></div><div><br/></div><div align="left" style="min-height: 104pt;"><div><span style="font-size: 24px;"><span style="font-family: Calibri;">AK09912/AK09915</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Jumper setting in pin selection socket:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [11].png" type="image/png" style="height:auto;" width="194"/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    Pull-up resistors on sensor board.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    DRDY pin → INT pin (high active)</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">4.    Test pins on board:</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">i.    SO (open)</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">ii.    CSB (VDD through OR)</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iii.    RSTN (VDD through OR)</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iv.    TRG (open)</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">5.    Available slave address:</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">0x0C~0x0F. It can be set by installing the resistor on R800, R801, R802, and R803.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">i.    0x0C: R802 and R803 are installed (default).</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">ii.    0x0D: R802 and R810 are installed.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iii.    0x0E: R800 and R803 are installed.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">iv.    0x0F: R800 and R801 are installed.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;">v.    Please check the schematic of the sensor board.</span></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">AK737x</span></span></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Jumper setting in pin selection socket:</span></span></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [12].png" type="image/png" style="height:auto;" width="220"/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    Purpose: routing board for close-loop AF VCM.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    Two layers. Pin names are on top layer. Pin routes are on bottom layer.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">4.    VCM area is 1x1cm.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">5.    5. Pull-up resistors are installed on default for AK737x.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Routing Board</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Jumper setting in pin selection socket:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><img src="index_files/Image [13].png" type="image/png" style="height:auto;" width="231"/><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    Purpose: for connecting AKM 15 pin daughter board (AK0991x daughter boards)</span></span></div><div><br/></div><div><span style="font-size: 32px;"><span style="font-family: Calibri;">Connecting Sensor Shield to Arduino Uno</span></span></div><div><img src="index_files/Image [14].png" type="image/png" style="height:auto;" width="520"/></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">When connecting the AKM Arduino EVB to Arduino UNO:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Ensure that all the pins are aligned with their corresponding connector. It is very important to handle both boards carefully during this operation to avoid damaging or bending the male/female pins and connectors.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    ESD prevention measures must also be implemented to avoid damaging any Arduino UNO and AKM Arduino EVB components.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 32px;"><span style="font-family: Calibri;">LED indication</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">There are 5 LED indicators.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    Two red indicators for the power condition of Port 1 and Port 2.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    Two yellow indicators for the interrupt condition of INT0 and INT1. The LED is on when the interrupt pin is high.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    One green indicator for SDA pin of I2C. The LED is on when the SDA pin is low.</span></span></div><div><br/></div><div><span style="font-size: 32px;"><span style="font-family: Calibri;">Firmware</span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Firmware developing tool</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Arduino IDE 1.6.9</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><img src="index_files/Image [15].png" type="image/png" style="height:auto;" width="836"/></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">The accompanied firmware supporting AK9750/AK9752/AK9970 is developed on Arduino 1.6.9.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Arduino IDE is available for download at: http://www.arduino.org/downloads</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Developing and downloading</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">In the firmware source code file AKM_EVB.ino:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">1.    There are 4 lines at line 52 in AKM_EVB.ino of the firmware source code file, there are 4 lines which specify the device name, product id, I2C slave address, and interrupt setting. These settings are specified in the 4 arrays. DEV_NAME, DEV_ID, DEV_I2C, DEV_INT. Please check these 4 settings are matching with each other or not.</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: 'Lucida Console';">/* Device Name */</span></div><div><span style="font-family: 'Lucida Console';">const String DEV_NAME[7] = {&quot;AK9750&quot;, &quot;AK9752&quot;, &quot;AK9970&quot;, &quot;AK9912&quot;, &quot;AK9915&quot;, &quot;AK9916&quot;, &quot;AK9918&quot;};</span></div><div><span style="font-family: 'Lucida Console';"><br/></span></div><div><span style="font-family: 'Lucida Console';">/* Product ID    AK9750/3 AK9752 AK9970 AK9912 AK9915 AK9916 AK9918 */</span></div><div><span style="font-family: 'Lucida Console';">const uint8_t DEV_ID[7] = {0x13,   0x14,  0xC0,  0x04,  0x10,  0x09,  0x0C   };</span></div><div><span style="font-family: 'Lucida Console';"><br/></span></div><div><span style="font-family: 'Lucida Console';">/* I2C address */</span></div><div><span style="font-family: 'Lucida Console';">const uint8_t DEV_I2C[7] = {0x64, 0x65, 0x66, 0x0C, 0x0D, 0x0E, 0x0F};</span></div><div><span style="font-family: 'Lucida Console';"><br/></span></div><div><span style="font-family: 'Lucida Console';">/* default interrupt setting */</span></div><div><span style="font-family: 'Lucida Console';">boolean DEV_INT[7] = {true, true, false, false, false, false, false }; // default interrupt/polling mode</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">2.    Optional: Please modify the UUID according to serial number of AKM Arduino EVB at line 65. (Ex: S/N 1003, modify it as 0x10, 0x03 at the 3rd line below).</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: 'Lucida Console';">static const uint8_t UUID[16] = {0x41, 0x4B, 0x4D, 0x5F, 0x42, 0x4C, 0x45, 0x55, 0x55, 0x49, 0x44, /* AKM_BLEUUID */</span></div><div><span style="font-family: 'Lucida Console';">                                 0x32, 0x01, 0x10, /* Jessy, Internal, EVB */</span></div><div><span style="font-family: 'Lucida Console';">                                 0x10, 0x01};     /* SN(1001) */</span></div></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">3.    Configure the interrupt of the INT0_PIN and INT1_PIN enabled by either rising edge or falling edge at line 326 to 327 in the setup function. The value can either be RISING or FALLING.</span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>attachInterrupt(digitalPinToInterrupt(INT0_PIN), EXTINT0_callback, FALLING);  // external interrupt</div><div>attachInterrupt(digitalPinToInterrupt(INT1_PIN), EXTINT1_callback, FALLING);  // external interrupt</div></div><div><br/></div><div><span style="font-size: 32px;"><span style="font-family: Calibri;">Schematic</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><span style="font-size: 24px;">Sensor Shield</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/Auduino Shield-TEST.pdf"><img src="index_files/adc33e1901a5ee7ae3891a12aecdf24f.png" alt="Auduino Shield-TEST.pdf"></a></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 24px;"><span style="font-family: Calibri;">Sensor Boards</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK9750/3</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/AK9750_9753.pdf"><img src="index_files/9671caa16d921bb2b7fc18d014357e26.png" alt="AK9750_9753.pdf"></a><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK9752</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/AK9752.pdf"><img src="index_files/5a148e04149e6be34684691fe66a673c.png" alt="AK9752.pdf"></a><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK9970/AK8963</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/AK9970_8963.pdf"><img src="index_files/16f46f70429f92a6e8d4be21c432877b.png" alt="AK9970_8963.pdf"></a><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK09912/AK09915</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/AK09912.pdf"><img src="index_files/5a766fc086d821626986d10eb422f9fd.png" alt="AK09912.pdf"></a><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">AK737x </span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><a href="index_files/AK737X 2-54.pdf"><img src="index_files/27da00d383e3b4917746ec1ae5ad78b0.png" alt="AK737X 2-54.pdf"></a></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Calibri;">Routing board</span></span></div><div><a href="index_files/ECompass jumper.pdf"><img src="index_files/f3f27c3f783ca4038d98a24e80a509be.png" alt="ECompass jumper.pdf"></a></div><div><br/></div><div align="left" style="min-height: 203pt;"><div><br/></div></div></div></div></div></div></div></div></div></div></div></div></span>
</div></body></html> 